<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog</title>
  <link href="css/styles.css" type="text/css" rel="stylesheet" />
  <link href="css/responsive.css" type="text/css" rel="stylesheet" />
  <link href="css/isotope.css" type="text/css" rel="stylesheet" />
  <link href="css/bootstrap.css" type="text/css" rel="stylesheet" />
  <script src="https://kit.fontawesome.com/819befa940.js" crossorigin="anonymous"></script>
</head>

<body>
  <header class="nav-header">

    <div class="logo">
      <a href="index.html" class="header__logo"><img src="./images/mine_logo.png"></a>
    </div>
    <div class="hamburger" id="nav-toggle" name="menu-outline">
      <div class="line"></div>
      <div class="line"></div>
      <div class="line"></div>

    </div>
    <nav class="nav" id="nav-menu">
      <div class="nav__content bd-grid">

        <div class="nav__close" id="nav-close">

          <i class="fa fa-times" aria-hidden="true"></i>
        </div>

        <div class="nav__perfil">
          <div class="nav__img">
            <img src="./images/mine_logo.png" alt="">
          </div>


        </div>

        <div class="nav__menu">
          <ul class="nav__list">
            <li class="nav__item"><a href="index.html" class="nav__link ">Home</a></li>
            <li class="nav__item"><a href="about.html" class="nav__link">About</a></li>
            <li class="nav__item"><a href="experience.html" class="nav__link">Experience</a></li>
            <li class="nav__item"><a href="contact.html" class="nav__link">Contact</a></li>
            <li class="nav__item"><a href="blog.html" class="nav__link active">Blog</a></li>


          </ul>
        </div>

        <div class="nav__login" id="nav_login">

          <a href="login.html" class="nav__social-icon ">Login</a>


        </div>
        <div class="nav__logout text-white" id="nav_logout">
          <div class="dropdown  nav__logout1 ">
            <span id="username"></span>

            <div class="dropdown-content text-black">
              <a href="./dashboard/index.html" class="text-success" id="admin_link">Dashboard</a>

              <a class="text-success" id="logout-link" onclick="logout()">logout</a>
            </div>

          </div>
        </div>
      </div>
    </nav>
  </header>
  <main class="" id="main">
    <div class="header">
      <p class="text-white text-center mt-3">Experience I have In all Domain</p>
    </div>
    <div class="content_blog">
      <div class="container pt-4">
        <div class="row ">
          <div class="col-md-8 col-md-offset-2 text-center heading-section animate-box fadeInUp animated
          ">
            <h3 class="text-black">
              Read, Learn and Share
            </h3>
            <p class="text-black-50">Base on my experience I convinced my self to share and teach everything I know to
              others.</p>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="row" id="Blogs_Row"></div>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div>
      <ul>
        <li>
          <a href="#"><i class="fa fa-twitter"></i></a>
        </li>
        <li>
          <a href="#"><i class="fa fa-facebook"></i></a>
        </li>
        <li>
          <a href="#"><i class="fa fa-github"></i></a>
        </li>
        <li>
          <a href="#"><i class="fa fa-instagram"></i></a>
        </li>
      </ul>
    </div>
    <div>copyright <i class="fa fa-copyright" aria-hidden="true"> </i>2022 Fabrice. All Rights Reserved</div>
    <div>Designed by NDACYAYISENGA Fabrice</div>
  </footer>
  <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-storage.js"></script>
  <script src="./js/app.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

  <script>
    const db = app.firestore();
    db.collection("blogs")
      .get()
      .then((querySnapshot) => {
        querySnapshot.forEach((doc) => {

          const datas = doc.data();
          const title = datas.title;
          const ImgUrl = datas.imageURL;
          const date = datas.date;
          const descr = datas.description;
          const DataId = doc.id;
          AddNewData(title, ImgUrl, descr, date, DataId);
        });
      });
    function AddNewData(title, ImgUrl, descr, date, DataId) {
      const Blogs_Row = document.getElementById('Blogs_Row');
      const blogs_COl=document.createElement('div');
      
      blogs_COl.classList.add('col-lg-4','col-md-4','col-sm-6');      
      const single_Col = `
       
            <div class="fh5co-blog animate-box fadeInUp animated">
              <a href="#"><img class="img-responsive" src="${ImgUrl}" alt="Description" /></a>
              <div class="blog-text">
                <div class="blog-title">
                  <h3><a href="" #="">${title}</a></h3>
                  <span class="posted_by">${date.toDate().toDateString()} 
                  </span >
                  <span class="comment text-black-50"><a href="">21 &nbsp;<i class="fas fa-sms"></i></a></span>
                  <p class="text-black mt-3">${descr.split(/[!,?,.]/, 3)}</p>
                  <p><a href="artical.html?${DataId}">Learn More...</a></p>
                </div >
              </div >
            </div >
          `;
          blogs_COl.innerHTML=single_Col;
      Blogs_Row.appendChild(blogs_COl);
    }
  </script>
</body>

</html>